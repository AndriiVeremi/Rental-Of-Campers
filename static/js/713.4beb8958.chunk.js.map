{"version":3,"file":"static/js/713.4beb8958.chunk.js","mappings":"gQAEO,MAAMA,EAAqBC,EAAAA,GAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,kEAM/BC,EAAcJ,EAAAA,GAAOC,IAAGI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,+EAMxBG,EAASN,EAAAA,GAAOO,GAAEC,IAAAA,GAAAL,EAAAA,EAAAA,GAAA,+J,uBCH/B,MAyDA,EAzDoBM,KAClB,MAAMC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,IACtBC,GAAaF,EAAAA,EAAAA,IAAYG,EAAAA,IACzBC,GAAYJ,EAAAA,EAAAA,IAAYK,EAAAA,IACxBC,GAAQN,EAAAA,EAAAA,IAAYO,EAAAA,IAGpBC,GAAiBR,EAAAA,EAAAA,IAAYS,EAAAA,IACnCC,QAAQC,IAAI,gBAAiBH,GAG7B,MAAMI,GAAWC,EAAAA,EAAAA,OAEVC,EAAWC,IAAgBC,EAAAA,EAAAA,WAAS,IACpCC,EAAgBC,IAAqBF,EAAAA,EAAAA,UAAS,OAC9CG,EAAMC,IAAWJ,EAAAA,EAAAA,UAAS,IAEjCK,EAAAA,EAAAA,YAAU,KAENT,EADW,IAATO,GACOG,EAAAA,EAAAA,OAEAC,EAAAA,EAAAA,IAAgBJ,GAC3B,GACC,CAACP,EAAUO,IAEd,MAAMK,EAAcC,IAClBV,GAAcD,GACdI,EAAkBO,EAAK,EAOzB,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAACtC,EAAkB,CAAAwC,SAAA,EACjBC,EAAAA,EAAAA,KAACC,EAAAA,EAAU,KACXJ,EAAAA,EAAAA,MAACjC,EAAW,CAAAmC,SAAA,CACTxB,IAAayB,EAAAA,EAAAA,KAACE,EAAAA,EAAO,IACrBzB,IAASoB,EAAAA,EAAAA,MAAC/B,EAAM,CAAAiC,SAAA,CAAC,SAAM,GAAAI,OAAI1B,MACR,IAAnBP,EAAQkC,SACPJ,EAAAA,EAAAA,KAACK,EAAAA,EAAW,CAACnC,QAAmC,IAA1BS,EAAeyB,OAAelC,EAAUS,EAAgBgB,YAAaA,IAG5FtB,EAAa,GAA+B,IAA1BM,EAAeyB,SAChCJ,EAAAA,EAAAA,KAACM,EAAAA,EAAc,CAACC,KAAK,SAASC,QAhBrBC,KACjBlB,GAAQmB,GAAQA,EAAO,GAAE,EAeiCX,SAAC,oBAMxDd,IAAae,EAAAA,EAAAA,KAACW,EAAAA,EAAK,CAACC,QAASjB,EAAazB,QAASkB,MACnD,C","sources":["pages/CatalogPage/CatalogPage.module.js","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const CatalogPageWrapper = styled.div`\n  display: flex;\n  gap: 64px;\n  padding: 100px 64px;\n`;\n\nexport const ListWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Errors = styled.h2`\n\n  font-size: 30px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  overflow: hidden;\n  transform: translate(-50%, -50%);\n  color: #e44848;\n`;\n\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FiltersBar from 'components/FiltersBar/FiltersBar';\nimport CatalogList from 'components/CatalogList/CatalogList';\nimport Loaders from 'components/Loaders/Loaders';\nimport { fetchCampers, loadMoreCampers } from 'store/operations';\nimport { Modal } from 'components/Modal/Modal';\nimport { selectCampers, selectRespLength, selectIsLoading, selectError, selectFilteredCampers } from 'store/selectors';\nimport { CatalogPageWrapper, ListWrapper, Errors } from './CatalogPage.module';\nimport { LoadMoreButton } from 'components/MainButton/MainButton.styled';\n\nconst CatalogPage = () => {\n  const campers = useSelector(selectCampers);\n  const respLength = useSelector(selectRespLength);\n  const isLoading = useSelector(selectIsLoading);\n  const error = useSelector(selectError);\n\n  //----------------------------------------\n  const filtredCampers = useSelector(selectFilteredCampers);\n  console.log('FiltredCamper', filtredCampers);\n  //----------------------------------------\n\n  const dispatch = useDispatch();\n\n  const [showModal, setShowModal] = useState(false);\n  const [selectedCamper, setSelectedCamper] = useState(null);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    if (page === 1) {\n      dispatch(fetchCampers());\n    } else {\n      dispatch(loadMoreCampers(page));\n    }\n  }, [dispatch, page]);\n\n  const toggleModal = data => {\n    setShowModal(!showModal);\n    setSelectedCamper(data);\n  };\n\n  const onLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  return (\n    <>\n      <CatalogPageWrapper>\n        <FiltersBar />\n        <ListWrapper>\n          {isLoading && <Loaders />}\n          {error && <Errors>error:{`${error}`}</Errors>}\n          {campers.length !== 0 && (\n            <CatalogList campers={filtredCampers.length === 0 ? campers : filtredCampers} toggleModal={toggleModal} />\n          )}\n          {/* {campers.length !== 0 && <CatalogList campers={campers} toggleModal={toggleModal} />} */}\n          {respLength > 1 && filtredCampers.length === 0 && (\n            <LoadMoreButton type=\"button\" onClick={onLoadMore}>\n              Load more\n            </LoadMoreButton>\n          )}\n        </ListWrapper>\n      </CatalogPageWrapper>\n      {showModal && <Modal onClose={toggleModal} campers={selectedCamper} />}\n    </>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["CatalogPageWrapper","styled","div","_templateObject","_taggedTemplateLiteral","ListWrapper","_templateObject2","Errors","h2","_templateObject3","CatalogPage","campers","useSelector","selectCampers","respLength","selectRespLength","isLoading","selectIsLoading","error","selectError","filtredCampers","selectFilteredCampers","console","log","dispatch","useDispatch","showModal","setShowModal","useState","selectedCamper","setSelectedCamper","page","setPage","useEffect","fetchCampers","loadMoreCampers","toggleModal","data","_jsxs","_Fragment","children","_jsx","FiltersBar","Loaders","concat","length","CatalogList","LoadMoreButton","type","onClick","onLoadMore","prev","Modal","onClose"],"sourceRoot":""}